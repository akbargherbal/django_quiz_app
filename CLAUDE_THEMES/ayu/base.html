{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      {% block title %}
        Quiz App
      {% endblock %}
    </title>
    {% load static %}
    {% tailwind_css %}
    <script>
      // On page load or when dark mode preference changes
      function updateMode() {
        const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const html = document.documentElement;
        if (isDarkMode) {
          html.classList.add('dark');
        } else {
          html.classList.remove('dark');
        }
      }

      // Initial mode
      updateMode();

      // Listen for changes
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateMode);
    </script>
  </head>
  <body class="bg-ayu-light dark:bg-ayu-dark min-h-screen flex flex-col">
    <header class="bg-ayu-accent text-ayu-light dark:text-ayu-dark shadow-lg">
      <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <a href="#" class="text-2xl font-bold font-heading">QuizMaster</a>
        <nav>
          <a href="#" class="text-ayu-light hover:text-ayu-accent-light dark:text-ayu-dark dark:hover:text-ayu-accent-dark px-3 py-2 transition-colors">Home</a>
          <a href="#" class="text-ayu-light hover:text-ayu-accent-light dark:text-ayu-dark dark:hover:text-ayu-accent-dark px-3 py-2 transition-colors">Profile</a>
        </nav>
      </div>
    </header>
    <main class="container mx-auto px-6 py-8 text-ayu-dark dark:text-ayu-light" role="main">
      {% block content %}
        <!-- Content will be inserted here -->
      {% endblock %}
    </main>

    <footer class="container mx-auto px-6 py-3 text-center text-ayu-dark dark:text-ayu-light">
      <p>&copy; 2024 QuizMaster. All rights reserved.</p>
    </footer>
  </body>
</html>